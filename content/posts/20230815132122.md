+++
title = "システムのスリープ状態S1-S4について"
author = ["Marigold"]
date = 2023-08-18T23:20:01+09:00
lastmod = 2023-12-10T20:56:04+09:00
tags = ["PC"]
categories = ["article"]
draft = false
+++

## S1 {#s1}

システムの電源状態 S1 は、次の特性を持つスリープ状態です。


### 電力消費 {#電力消費}

S0 よりも消費量が少なく、他のスリープ状態よりも多くなっています。 プロセッサ クロックはオフになっており、バス クロックは停止されています。


### ソフトウェアの再開 {#ソフトウェアの再開}

制御は、中断された箇所から再開されます。


### ハードウェアの待機時間 {#ハードウェアの待機時間}

通常は 2 秒以内です。


### システム ハードウェア コンテキスト {#システム-ハードウェア-コンテキスト}

すべてのコンテキストは、ハードウェアによって保持および管理されます。


## S2 {#s2}

システムの電源状態 S2 は S1 に似ていますが、プロセッサの電源が切れているために、システム キャッシュの CPU コンテキストとコンテンツが失われる点が異なります。 状態 S2 には以下の特徴があります。


### 電力消費 {#電力消費}

状態 S1 よりも消費量が少なく、S3 よりも多くなっています。 プロセッサはオフになっています。 バス クロックは停止されています。そのため、一部のバスで電力が失われる可能性があります。


### ソフトウェアの再開 {#ソフトウェアの再開}

スリープ解除後、制御はプロセッサのリセット ベクターから開始されます。


### ハードウェアの待機時間 {#ハードウェアの待機時間}

2 秒以上。S1 の待機時間以上。


### システム ハードウェア コンテキスト {#システム-ハードウェア-コンテキスト}

CPU コンテキストとシステム キャッシュの内容が失われます。


## S3 {#s3}

システムの電源状態 S3 は、次の特性を持つスリープ状態です。


### 電力消費 {#電力消費}

状態 S2 よりも消費量が少なくなります。 プロセッサはオフになっていて、マザーボード上の一部のチップもオフになっている可能性があります。


### ソフトウェアの再開 {#ソフトウェアの再開}

スリープ解除イベントの後、制御はプロセッサのリセット ベクターから開始されます。


### ハードウェアの待機時間 {#ハードウェアの待機時間}

S2 とほとんど区別できません。


### システム ハードウェア コンテキスト {#システム-ハードウェア-コンテキスト}

システム メモリのみが保持されます。 CPU コンテキスト、キャッシュの内容、およびチップセットのコンテキストが失われます。


## S4 {#s4}

システムの電源状態 S4 (休止状態) は、給電量が最も低いスリープ状態であり、スリープ解除の待機時間が最も長くなります。 電力消費を最小限に抑えるために、ハードウェアのすべてのデバイスの電源がオフになります。 ただし、オペレーティング システムのコンテキストは、システムが S4 状態に入る前にディスクに書き込む休止ファイル (メモリのイメージ) に保持されます。 再起動時に、ローダーでこのファイルが読み取られ、システムの休止前の場所にジャンプします。

S1、S2、または S3 状態のコンピューターが AC またはバッテリ電力をすべて失った場合、システム ハードウェア コンテキストが失われるため、再起動して S0 に戻る必要があります。 ただし、状態 S4 のコンピューターはオペレーティング システムのコンテキストが休止ファイルに保持されているため、バッテリまたは AC 電源が失われた後でも、以前の場所から再起動できます。 休止状態のコンピューターは電力を使用しません (トリクル充電の例外はあり)。

状態 S4 には以下の特徴があります。


### 電力消費 {#電力消費}

オフ。ただし、電源ボタンと同様のデバイスに対しするトリクル充電を除きます。


### ソフトウェアの再開 {#ソフトウェアの再開}

システムは、保存された休止状態ファイルから再起動されます。 休止状態ファイルを読み込めない場合は、再起動が必要です。 システムが S4 状態のときにハードウェアを再構成すると、休止ファイルが変更され、正しく読み込まれない可能性があります。


### ハードウェアの待機時間 {#ハードウェアの待機時間}

長く、定義されていません。 システムを動作状態に復帰するのは、物理的に操作することのみです。 このような操作には、ユーザーによって起動スイッチが押されたこと、またはスリープ解除機能が有効になっているハードウェアが存在する場合は、LAN 上のモデムまたはアクティビティの着信が含まれる場合があります。 ハードウェアでサポートされている場合、マシンは再開タイマーからもスリープ解除できます。


### システム ハードウェア コンテキスト {#システム-ハードウェア-コンテキスト}

ハードウェアには保持されません。 システムは、電源を切る前に、休止状態ファイルにメモリのイメージを書き込みます。 オペレーティング システムが読み込まれると、このファイルが読み取られ、前の場所にジャンプします。


## ハイバネート(S4) {#ハイバネート--s4}

コンピューターをハイバネートすると、アプリケーションおよびドキュメントの状態を保持した状態でコンピューターの電源がオフになります。電源オフの間は電力を消費しません。コンピューターを再びオンにすると、アプリケーションとドキュメントがハイバネート時点の状態で立ち上がります。

残念ながら、ハイバネートが正しく機能しないことがよくあります。コンピューターを再びオンにした時にドキュメントとアプリケーションが開かれた状態で復帰することを期待すると、データが失われてしまう可能性があります。そのため、デフォルトではハイバネートは無効になっています。


## ref {#ref}

-   [システムのスリープ状態 - Windows drivers | Microsoft Learn](https://learn.microsoft.com/ja-jp/windows-hardware/drivers/kernel/system-sleeping-states)
-   [コンピューターのハイバネートはどのようにすればいいですか? - Ubuntu 18.04 LTS デスクトップガイド改](https://sicklylife.jp/ubuntu/1804/help/power-hibernate.html)
